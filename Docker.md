Docker для начинающих: Теория

Что такое Docker?
Docker — это платформа для разработки, доставки и запуска приложений в изолированных средах, называемых контейнерами.
Простая аналогия
Представьте, что вы переезжаете:

· Без Docker: Переносите вещи по одной, надеясь что на новом месте будет такая же мебель, розетки, освещение
· С Docker: Упаковываете всю комнату с мебелью, электропроводкой и декором в один контейнер — на новом месте всё работает идентично

Docker решает проблему: "У меня на компьютере работает, а на сервере — нет"
 Ключевые понятия
1. Docker Image (Образ)
· Что это: Шаблон или "чертеж" приложения
· Содержит: Код, зависимости, библиотеки, настройки
· Аналогия: Установочный ISO-файл или шаблон документа Word
2. Docker Container (Контейнер)
· Что это: Запущенный экземпляр образа
· Особенности: Изолированная среда выполнения
· Аналогия: Если Образ — это класс в программировании, то Контейнер — объект этого класса
3. Dockerfile
· Что это: Текстовый файл с инструкциями для сборки образа
· Содержит: Пошаговые команды для настройки среды
· Пример: Рецепт приготовления блюда
4. Docker Registry (Реестр)
· Что это: Хранилище Docker-образов
· Самый известный: Docker Hub (hub.docker.com)
· Аналогия: App Store для Docker-образов

Как это работает?
Процесс разработки с Docker:

1. Разработчик создает Dockerfile с описанием окружения
2. Собирается Docker-образ на основе Dockerfile
3. Образ загружается в реестр (Docker Hub)
4. На сервере скачивается образ и запускается контейнер

Сравнение с виртуальными машинами:

Аспект Виртуальная машина Docker контейнер
Виртуализация Аппаратная (полная ОС) На уровне ОС
Размер ГБы МБы
Производительность Низкая Близкая к нативной
Запуск Минуты Секунды
Изоляция Полная Процессов

Преимущества Docker
 Консистентность сред

· Одинаковое поведение на всех этапах: разработка, тестирование, продакшен
 Изоляция приложений
· Каждое приложение в своем контейнере
· Нет конфликтов версий зависимостей
Легковесность
· Множество контейнеров на одном сервере
· Быстрый запуск и остановка
 Портативность
· "Собери once — запускай где угодно"
· Работает на Linux, Windows, macOS, облаках
Масштабируемость
· Легко запускать multiple копий приложения
· Интеграция с оркестраторами (Kubernetes)

Пример Dockerfile
# Базовый образ
FROM python:3.9

# Рабочая директория
WORKDIR /app

# Копируем зависимости
COPY requirements.txt .

# Устанавливаем зависимости
RUN pip install -r requirements.txt

# Копируем код приложения
COPY . .

# Открываем порт
EXPOSE 5000

# Команда запуска
CMD ["python", "app.py"]
 Docker Compose

Docker Compose — инструмент для определения и запуска многоконтейнерных приложений.
Для чего нужен?

· Когда приложение состоит из нескольких сервисов (например: веб-сервер + база данных + кэш)
· Упрощает настройку сети между контейнерами
· Управляет зависимостями между сервисами

 Экосистема Docker
· Docker Engine: Основной движок
· Docker Compose: Оркестрация многоконтейнерных приложений
· Docker Swarm: Кластеризация (встроенная в Docker)
· Kubernetes: Продвинутая оркестрация (отдельный продукт)
· Docker Hub: Публичный реестр образов

 Когда использовать Docker?
Хорошие сценарии:
· Микросервисная архитектура
· CI/CD пайплайны
· Разработка с сложными зависимостями
· Масштабируемые веб-приложения
Не идеальные сценарии:
· Приложения с графическим интерфейсом (GUI)
· Высокопроизводительные вычисления (HPC)
· Системы, требующие прямого доступа к железу
Что дальше?
После освоения теории:

1. Установите Docker Desktop
2. Попробуйте базовые команды (docker run, docker build)
3. Создайте свой первый Dockerfile
4. Изучите Docker Compose для многоконтейнерных приложений
